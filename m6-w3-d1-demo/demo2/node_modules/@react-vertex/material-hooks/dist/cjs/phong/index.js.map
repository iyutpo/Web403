{"version":3,"sources":["../../../src/phong/index.ts"],"names":["defaultKd","defaultKs","defaultNs","defaultKa","defaultNa","usePhongSolid","kd","na","ns","ka","ks","gl","solidVert","solidFrag","vert","frag","program","uVScale","usePhongTextured","mapKd","texturedVert","texturedFrag","usePhongAttenuated","lightPosition","attenuatedVert","attenuatedFrag"],"mappings":";;;;;;;;;;;;;AAAA;;AAUA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,SAAS,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAlB;AACA,IAAMC,SAAS,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAlB;AACA,IAAMC,SAAS,GAAG,GAAlB;AACA,IAAMC,SAAS,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAlB;AACA,IAAMC,SAAS,GAAG,CAAlB;;AAEO,SAASC,aAAT,CACLC,EADK,EAELC,EAFK,EAGLC,EAHK,EAILC,EAJK,EAKLC,EALK,EAML;AACA,MAAMC,EAAE,GAAG,4BAAX;;AADA,4BAEqB,8BAAmBC,iBAAnB,EAA8BC,kBAA9B,CAFrB;AAAA;AAAA,MAEOC,IAFP;AAAA,MAEaC,IAFb;;AAGA,MAAMC,OAAO,GAAG,sBAAWL,EAAX,EAAeG,IAAf,EAAqBC,IAArB,CAAhB;AAEA,mCAAsBJ,EAAtB,EAA0BK,OAA1B;AAEA,0BAAaL,EAAb,EAAiBK,OAAjB,EAA0B,KAA1B,EAAiCR,EAAE,IAAIN,SAAvC;AACA,0BAAaS,EAAb,EAAiBK,OAAjB,EAA0B,KAA1B,EAAiCT,EAAE,IAAIH,SAAvC;AAEA,2BAAcO,EAAd,EAAkBK,OAAlB,EAA2B,KAA3B,EAAkCV,EAAE,IAAIN,SAAxC;AACA,2BAAcW,EAAd,EAAkBK,OAAlB,EAA2B,KAA3B,EAAkCN,EAAE,IAAIT,SAAxC;AACA,2BAAcU,EAAd,EAAkBK,OAAlB,EAA2B,KAA3B,EAAkCP,EAAE,IAAIN,SAAxC;AAEA,SAAOa,OAAP;AACD;;AAED,IAAMC,OAAO,GAAG,CAAC,GAAD,EAAM,GAAN,CAAhB;;AAEO,SAASC,gBAAT,CACLC,KADK,EAELZ,EAFK,EAGLC,EAHK,EAILC,EAJK,EAKLC,EALK,EAML;AACA,MAAMC,EAAE,GAAG,4BAAX;;AADA,6BAEqB,8BAAmBS,oBAAnB,EAAiCC,qBAAjC,CAFrB;AAAA;AAAA,MAEOP,IAFP;AAAA,MAEaC,IAFb;;AAGA,MAAMC,OAAO,GAAG,sBAAWL,EAAX,EAAeG,IAAf,EAAqBC,IAArB,CAAhB;AAEA,mCAAsBJ,EAAtB,EAA0BK,OAA1B;AAEA,iCAAoBL,EAApB,EAAwBK,OAAxB,EAAiC,OAAjC,EAA0CG,KAA1C;AAEA,0BAAaR,EAAb,EAAiBK,OAAjB,EAA0B,KAA1B,EAAiCR,EAAE,IAAIN,SAAvC;AACA,0BAAaS,EAAb,EAAiBK,OAAjB,EAA0B,KAA1B,EAAiCT,EAAE,IAAIH,SAAvC;AAEA,2BAAcO,EAAd,EAAkBK,OAAlB,EAA2B,SAA3B,EAAsCC,OAAtC;AAEA,2BAAcN,EAAd,EAAkBK,OAAlB,EAA2B,KAA3B,EAAkCN,EAAE,IAAIT,SAAxC;AACA,2BAAcU,EAAd,EAAkBK,OAAlB,EAA2B,KAA3B,EAAkCP,EAAE,IAAIN,SAAxC;AAEA,SAAOa,OAAP;AACD;;AAEM,SAASM,kBAAT,CACLC,aADK,EAELJ,KAFK,EAGL;AACA,MAAMR,EAAE,GAAG,4BAAX;AACA,MAAMK,OAAO,GAAG,sBAAWL,EAAX,EAAea,sBAAf,EAA+BC,uBAA/B,CAAhB;AAEA,2BAAcd,EAAd,EAAkBK,OAAlB,EAA2B,gBAA3B,EAA6CO,aAA7C;AAEA,iCAAoBZ,EAApB,EAAwBK,OAAxB,EAAiC,SAAjC,EAA4CG,KAA5C;AAEA,SAAOH,OAAP;AACD","sourcesContent":["import {\n  useProgram,\n  useUniform1f,\n  useUniform2fv,\n  useUniform3fv,\n  useWebGLContext,\n  useUniformSampler2d,\n  usePointLightCount,\n  usePointLightUniforms,\n} from '@react-vertex/core'\nimport solidVert from './solid.vert'\nimport solidFrag from './solid.frag'\nimport texturedVert from './textured.vert'\nimport texturedFrag from './textured.frag'\nimport attenuatedVert from './attenuated.vert'\nimport attenuatedFrag from './attenuated.frag'\n\nconst defaultKd = [1.0, 1.0, 1.0]\nconst defaultKs = [0.6, 0.6, 0.6]\nconst defaultNs = 500\nconst defaultKa = [1.0, 1.0, 1.0]\nconst defaultNa = 0\n\nexport function usePhongSolid(\n  kd: number[],\n  na: number,\n  ns: number,\n  ka: number[],\n  ks: number[],\n) {\n  const gl = useWebGLContext()\n  const [vert, frag] = usePointLightCount(solidVert, solidFrag)\n  const program = useProgram(gl, vert, frag)\n\n  usePointLightUniforms(gl, program)\n\n  useUniform1f(gl, program, 'uNs', ns || defaultNs)\n  useUniform1f(gl, program, 'uNa', na || defaultNa)\n\n  useUniform3fv(gl, program, 'uKd', kd || defaultKd)\n  useUniform3fv(gl, program, 'uKs', ks || defaultKs)\n  useUniform3fv(gl, program, 'uKa', ka || defaultKa)\n\n  return program\n}\n\nconst uVScale = [1.0, 1.0]\n\nexport function usePhongTextured(\n  mapKd: WebGLTexture,\n  na: number,\n  ns: number,\n  ka: number[],\n  ks: number[],\n) {\n  const gl = useWebGLContext()\n  const [vert, frag] = usePointLightCount(texturedVert, texturedFrag)\n  const program = useProgram(gl, vert, frag)\n\n  usePointLightUniforms(gl, program)\n\n  useUniformSampler2d(gl, program, 'mapKd', mapKd)\n\n  useUniform1f(gl, program, 'uNs', ns || defaultNs)\n  useUniform1f(gl, program, 'uNa', na || defaultNa)\n\n  useUniform2fv(gl, program, 'uVScale', uVScale)\n\n  useUniform3fv(gl, program, 'uKs', ks || defaultKs)\n  useUniform3fv(gl, program, 'uKa', ka || defaultKa)\n\n  return program\n}\n\nexport function usePhongAttenuated(\n  lightPosition: number[],\n  mapKd: WebGLTexture,\n) {\n  const gl = useWebGLContext()\n  const program = useProgram(gl, attenuatedVert, attenuatedFrag)\n\n  useUniform3fv(gl, program, 'uLightPosition', lightPosition)\n\n  useUniformSampler2d(gl, program, 'texDiff', mapKd)\n\n  return program\n}\n"],"file":"index.js"}