"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.usePhongSolid = usePhongSolid;
exports.usePhongTextured = usePhongTextured;
exports.usePhongAttenuated = usePhongAttenuated;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@react-vertex/core");

var _solid = _interopRequireDefault(require("./solid.vert"));

var _solid2 = _interopRequireDefault(require("./solid.frag"));

var _textured = _interopRequireDefault(require("./textured.vert"));

var _textured2 = _interopRequireDefault(require("./textured.frag"));

var _attenuated = _interopRequireDefault(require("./attenuated.vert"));

var _attenuated2 = _interopRequireDefault(require("./attenuated.frag"));

var defaultKd = [1.0, 1.0, 1.0];
var defaultKs = [0.6, 0.6, 0.6];
var defaultNs = 500;
var defaultKa = [1.0, 1.0, 1.0];
var defaultNa = 0;

function usePhongSolid(kd, na, ns, ka, ks) {
  var gl = (0, _core.useWebGLContext)();

  var _usePointLightCount = (0, _core.usePointLightCount)(_solid["default"], _solid2["default"]),
      _usePointLightCount2 = (0, _slicedToArray2["default"])(_usePointLightCount, 2),
      vert = _usePointLightCount2[0],
      frag = _usePointLightCount2[1];

  var program = (0, _core.useProgram)(gl, vert, frag);
  (0, _core.usePointLightUniforms)(gl, program);
  (0, _core.useUniform1f)(gl, program, 'uNs', ns || defaultNs);
  (0, _core.useUniform1f)(gl, program, 'uNa', na || defaultNa);
  (0, _core.useUniform3fv)(gl, program, 'uKd', kd || defaultKd);
  (0, _core.useUniform3fv)(gl, program, 'uKs', ks || defaultKs);
  (0, _core.useUniform3fv)(gl, program, 'uKa', ka || defaultKa);
  return program;
}

var uVScale = [1.0, 1.0];

function usePhongTextured(mapKd, na, ns, ka, ks) {
  var gl = (0, _core.useWebGLContext)();

  var _usePointLightCount3 = (0, _core.usePointLightCount)(_textured["default"], _textured2["default"]),
      _usePointLightCount4 = (0, _slicedToArray2["default"])(_usePointLightCount3, 2),
      vert = _usePointLightCount4[0],
      frag = _usePointLightCount4[1];

  var program = (0, _core.useProgram)(gl, vert, frag);
  (0, _core.usePointLightUniforms)(gl, program);
  (0, _core.useUniformSampler2d)(gl, program, 'mapKd', mapKd);
  (0, _core.useUniform1f)(gl, program, 'uNs', ns || defaultNs);
  (0, _core.useUniform1f)(gl, program, 'uNa', na || defaultNa);
  (0, _core.useUniform2fv)(gl, program, 'uVScale', uVScale);
  (0, _core.useUniform3fv)(gl, program, 'uKs', ks || defaultKs);
  (0, _core.useUniform3fv)(gl, program, 'uKa', ka || defaultKa);
  return program;
}

function usePhongAttenuated(lightPosition, mapKd) {
  var gl = (0, _core.useWebGLContext)();
  var program = (0, _core.useProgram)(gl, _attenuated["default"], _attenuated2["default"]);
  (0, _core.useUniform3fv)(gl, program, 'uLightPosition', lightPosition);
  (0, _core.useUniformSampler2d)(gl, program, 'texDiff', mapKd);
  return program;
}
//# sourceMappingURL=index.js.map