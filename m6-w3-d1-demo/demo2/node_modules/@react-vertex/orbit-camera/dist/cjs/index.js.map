{"version":3,"sources":["../../src/index.ts"],"names":["useOrbitCamera","fov","aspect","near","far","configure","memoized","camera","OrbitCamera","setProjection","useOrbitControls","canvas","controls","OrbitControls","addEventListener","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchEnd","onTouchMove","onMouseWheel","removeEventListener"],"mappings":"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","sourcesContent":["import { useMemo, useEffect } from 'react'\nimport { useCanvas } from '@react-vertex/core'\nimport { OrbitCamera } from './OrbitCamera'\nimport { OrbitControls } from './OrbitControls'\n\nexport { OrbitCamera } from './OrbitCamera'\nexport { OrbitControls } from './OrbitControls'\n\nexport function useOrbitCamera(\n  fov: number,\n  aspect: number,\n  near: number = 1,\n  far: number = 1000,\n  configure: (c: OrbitCamera) => void,\n) {\n  const memoized = useMemo(() => {\n    const camera = new OrbitCamera(fov, aspect, near, far)\n\n    configure && configure(camera)\n\n    return camera\n  }, [])\n\n  useMemo(() => {\n    memoized.setProjection(fov, aspect, near, far)\n  }, [memoized, fov, aspect, near, far])\n\n  return memoized\n}\n\nexport function useOrbitControls(\n  camera: OrbitCamera,\n  configure: (c: OrbitControls) => void,\n) {\n  const canvas = useCanvas()\n\n  const memoized = useMemo(() => {\n    const controls = new OrbitControls(camera, canvas)\n\n    configure && configure(controls)\n\n    return controls\n  }, [camera, canvas])\n\n  useEffect(() => {\n    canvas.addEventListener('mousedown', memoized.onMouseDown, false)\n    canvas.addEventListener('mouseup', memoized.onMouseUp, false)\n    canvas.addEventListener('mousemove', memoized.onMouseMove, false)\n    canvas.addEventListener('touchstart', memoized.onTouchStart, false)\n    canvas.addEventListener('touchend', memoized.onTouchEnd, false)\n    canvas.addEventListener('touchmove', memoized.onTouchMove, false)\n    canvas.addEventListener('wheel', memoized.onMouseWheel, false)\n\n    return () => {\n      canvas.removeEventListener('mousedown', memoized.onMouseDown, false)\n      canvas.removeEventListener('mouseup', memoized.onMouseUp, false)\n      canvas.removeEventListener('mousemove', memoized.onMouseMove, false)\n      canvas.removeEventListener('touchstart', memoized.onTouchStart, false)\n      canvas.removeEventListener('touchend', memoized.onTouchEnd, false)\n      canvas.removeEventListener('touchmove', memoized.onTouchMove, false)\n      canvas.removeEventListener('wheel', memoized.onMouseWheel, false)\n    }\n  }, [canvas, memoized])\n\n  return memoized\n}\n"],"file":"index.js"}