{"version":3,"sources":["../../../src/sceneGraph/InstancedNode.ts"],"names":["Node","isInstancedNode","Symbol","instancedExt","InstancedNode","index","attributes","drawElements","nextprops","prevProps","applyMatrixProps","undefined"],"mappings":";;;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,aAAjB;AAQA,OAAO,IAAMC,eAAe,GAAGC,MAAM,CAAC,iBAAD,CAA9B;AACP,OAAO,IAAMC,YAAY,GAAG,wBAArB;AAEP,WAAaC,aAAb;AAAA;;AAAA;;AAKE,2BAAc;AAAA;;AAAA;;AACZ;AADY,UAJdC,KAIc;AAAA,UAHdC,UAGc;AAAA,UAFdC,YAEc;AAAA,UAObN,eAPa,IAOM,IAPN;AAGZ,UAAKI,KAAL,GAAa,CAAb;AACA,UAAKC,UAAL,GAAkB,EAAlB;AAJY;AAKb;;AAVH;AAAA;AAAA,+BAeIE,SAfJ,EAiBI;AAAA,UADAC,SACA,uEADgC,EAChC;AACA,WAAKC,gBAAL,CAAsBF,SAAtB,EAAiCC,SAAjC;;AAEA,UAAID,SAAS,CAACH,KAAV,KAAoBM,SAAxB,EAAmC;AACjC,aAAKN,KAAL,GAAaG,SAAS,CAACH,KAAvB;AACD;;AAED,UAAIG,SAAS,CAACF,UAAV,KAAyBK,SAA7B,EAAwC;AACtC,aAAKL,UAAL,GAAkBE,SAAS,CAACF,UAA5B;AACD;;AAED,WAAKC,YAAL,GAAoBC,SAAS,CAACD,YAA9B;AACD;AA7BH;;AAAA;AAAA,EAAmCP,IAAnC","sourcesContent":["import Node from './GraphNode'\n\nimport {\n  InstancedNodeProps,\n  GeometryAttributes,\n  InstancedDrawElements,\n} from '../types'\n\nexport const isInstancedNode = Symbol('isInstancedNode')\nexport const instancedExt = 'ANGLE_instanced_arrays'\n\nexport class InstancedNode extends Node {\n  index: number\n  attributes: GeometryAttributes\n  drawElements?: InstancedDrawElements\n\n  constructor() {\n    super()\n\n    this.index = 0\n    this.attributes = {}\n  }\n\n  [isInstancedNode] = true\n\n  applyProps(\n    nextprops: InstancedNodeProps,\n    prevProps: InstancedNodeProps = {},\n  ) {\n    this.applyMatrixProps(nextprops, prevProps)\n\n    if (nextprops.index !== undefined) {\n      this.index = nextprops.index\n    }\n\n    if (nextprops.attributes !== undefined) {\n      this.attributes = nextprops.attributes\n    }\n\n    this.drawElements = nextprops.drawElements\n  }\n}\n"],"file":"InstancedNode.js"}