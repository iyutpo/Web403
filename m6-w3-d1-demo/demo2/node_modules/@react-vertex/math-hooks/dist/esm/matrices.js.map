{"version":3,"sources":["../../src/matrices.ts"],"names":["useMemo","mat4","usePerspectiveMatrix","fov","aspect","near","far","configure","memoized","matrix","create","radians","Math","PI","perspective","useIdentityMatrix","px","py","pz","translate","useInvertedMatrix","invert"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,IAAT,QAAqB,WAArB;AAEA,OAAO,SAASC,oBAAT,CACLC,GADK,EAELC,MAFK,EAML;AAAA,MAHAC,IAGA,uEAHe,CAGf;AAAA,MAFAC,GAEA,uEAFc,IAEd;AAAA,MADAC,SACA;AACA,MAAMC,QAAQ,GAAGR,OAAO,CAAC,YAAM;AAC7B,QAAMS,MAAM,GAAGR,IAAI,CAACS,MAAL,EAAf;AAEA,QAAMC,OAAO,GAAIR,GAAG,GAAGS,IAAI,CAACC,EAAZ,GAAkB,GAAlC;AACAZ,IAAAA,IAAI,CAACa,WAAL,CAAiBL,MAAjB,EAAyBE,OAAzB,EAAkCP,MAAlC,EAA0CC,IAA1C,EAAgDC,GAAhD;AAEAC,IAAAA,SAAS,IAAIA,SAAS,CAACE,MAAD,CAAtB;AAEA,WAAOA,MAAP;AACD,GATuB,EASrB,CAACN,GAAD,EAAMC,MAAN,EAAcC,IAAd,EAAoBC,GAApB,CATqB,CAAxB;AAWA,SAAOE,QAAP;AACD;AAED,OAAO,SAASO,iBAAT,GAKL;AAAA,MAJAC,EAIA,uEAJa,CAIb;AAAA,MAHAC,EAGA,uEAHa,CAGb;AAAA,MAFAC,EAEA,uEAFa,CAEb;AAAA,MADAX,SACA;AACA,MAAMC,QAAQ,GAAGR,OAAO,CAAC,YAAM;AAC7B,QAAMS,MAAM,GAAGR,IAAI,CAACS,MAAL,EAAf;AACAT,IAAAA,IAAI,CAACkB,SAAL,CAAeV,MAAf,EAAuBA,MAAvB,EAA+B,CAACO,EAAD,EAAKC,EAAL,EAASC,EAAT,CAA/B;AAEAX,IAAAA,SAAS,IAAIA,SAAS,CAACE,MAAD,CAAtB;AAEA,WAAOA,MAAP;AACD,GAPuB,EAOrB,CAACO,EAAD,EAAKC,EAAL,EAASC,EAAT,CAPqB,CAAxB;AASA,SAAOV,QAAP;AACD;AAED,OAAO,SAASY,iBAAT,GAKL;AAAA,MAJAJ,EAIA,uEAJa,CAIb;AAAA,MAHAC,EAGA,uEAHa,CAGb;AAAA,MAFAC,EAEA,uEAFa,CAEb;AAAA,MADAX,SACA;AACA,MAAMC,QAAQ,GAAGR,OAAO,CAAC,YAAM;AAC7B,QAAMS,MAAM,GAAGR,IAAI,CAACS,MAAL,EAAf;AACAT,IAAAA,IAAI,CAACkB,SAAL,CAAeV,MAAf,EAAuBA,MAAvB,EAA+B,CAACO,EAAD,EAAKC,EAAL,EAASC,EAAT,CAA/B;AACAjB,IAAAA,IAAI,CAACoB,MAAL,CAAYZ,MAAZ,EAAoBA,MAApB;AAEAF,IAAAA,SAAS,IAAIA,SAAS,CAACE,MAAD,CAAtB;AAEA,WAAOA,MAAP;AACD,GARuB,EAQrB,CAACO,EAAD,EAAKC,EAAL,EAASC,EAAT,CARqB,CAAxB;AAUA,SAAOV,QAAP;AACD","sourcesContent":["import { useMemo } from 'react'\nimport { mat4 } from 'gl-matrix'\n\nexport function usePerspectiveMatrix(\n  fov: number,\n  aspect: number,\n  near: number = 1,\n  far: number = 1000,\n  configure?: (m: mat4) => void,\n) {\n  const memoized = useMemo(() => {\n    const matrix = mat4.create()\n\n    const radians = (fov * Math.PI) / 180\n    mat4.perspective(matrix, radians, aspect, near, far)\n\n    configure && configure(matrix)\n\n    return matrix\n  }, [fov, aspect, near, far])\n\n  return memoized\n}\n\nexport function useIdentityMatrix(\n  px: number = 0,\n  py: number = 0,\n  pz: number = 0,\n  configure?: (m: mat4) => void,\n) {\n  const memoized = useMemo(() => {\n    const matrix = mat4.create()\n    mat4.translate(matrix, matrix, [px, py, pz])\n\n    configure && configure(matrix)\n\n    return matrix\n  }, [px, py, pz])\n\n  return memoized\n}\n\nexport function useInvertedMatrix(\n  px: number = 0,\n  py: number = 0,\n  pz: number = 0,\n  configure?: (m: mat4) => void,\n) {\n  const memoized = useMemo(() => {\n    const matrix = mat4.create()\n    mat4.translate(matrix, matrix, [px, py, pz])\n    mat4.invert(matrix, matrix)\n\n    configure && configure(matrix)\n\n    return matrix\n  }, [px, py, pz])\n\n  return memoized\n}\n"],"file":"matrices.js"}