{"version":3,"sources":["../../src/matrices.ts"],"names":["usePerspectiveMatrix","fov","aspect","near","far","configure","memoized","matrix","mat4","create","radians","Math","PI","perspective","useIdentityMatrix","px","py","pz","translate","useInvertedMatrix","invert"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEO,SAASA,oBAAT,CACLC,GADK,EAELC,MAFK,EAML;AAAA,MAHAC,IAGA,uEAHe,CAGf;AAAA,MAFAC,GAEA,uEAFc,IAEd;AAAA,MADAC,SACA;AACA,MAAMC,QAAQ,GAAG,oBAAQ,YAAM;AAC7B,QAAMC,MAAM,GAAGC,eAAKC,MAAL,EAAf;;AAEA,QAAMC,OAAO,GAAIT,GAAG,GAAGU,IAAI,CAACC,EAAZ,GAAkB,GAAlC;;AACAJ,mBAAKK,WAAL,CAAiBN,MAAjB,EAAyBG,OAAzB,EAAkCR,MAAlC,EAA0CC,IAA1C,EAAgDC,GAAhD;;AAEAC,IAAAA,SAAS,IAAIA,SAAS,CAACE,MAAD,CAAtB;AAEA,WAAOA,MAAP;AACD,GATgB,EASd,CAACN,GAAD,EAAMC,MAAN,EAAcC,IAAd,EAAoBC,GAApB,CATc,CAAjB;AAWA,SAAOE,QAAP;AACD;;AAEM,SAASQ,iBAAT,GAKL;AAAA,MAJAC,EAIA,uEAJa,CAIb;AAAA,MAHAC,EAGA,uEAHa,CAGb;AAAA,MAFAC,EAEA,uEAFa,CAEb;AAAA,MADAZ,SACA;AACA,MAAMC,QAAQ,GAAG,oBAAQ,YAAM;AAC7B,QAAMC,MAAM,GAAGC,eAAKC,MAAL,EAAf;;AACAD,mBAAKU,SAAL,CAAeX,MAAf,EAAuBA,MAAvB,EAA+B,CAACQ,EAAD,EAAKC,EAAL,EAASC,EAAT,CAA/B;;AAEAZ,IAAAA,SAAS,IAAIA,SAAS,CAACE,MAAD,CAAtB;AAEA,WAAOA,MAAP;AACD,GAPgB,EAOd,CAACQ,EAAD,EAAKC,EAAL,EAASC,EAAT,CAPc,CAAjB;AASA,SAAOX,QAAP;AACD;;AAEM,SAASa,iBAAT,GAKL;AAAA,MAJAJ,EAIA,uEAJa,CAIb;AAAA,MAHAC,EAGA,uEAHa,CAGb;AAAA,MAFAC,EAEA,uEAFa,CAEb;AAAA,MADAZ,SACA;AACA,MAAMC,QAAQ,GAAG,oBAAQ,YAAM;AAC7B,QAAMC,MAAM,GAAGC,eAAKC,MAAL,EAAf;;AACAD,mBAAKU,SAAL,CAAeX,MAAf,EAAuBA,MAAvB,EAA+B,CAACQ,EAAD,EAAKC,EAAL,EAASC,EAAT,CAA/B;;AACAT,mBAAKY,MAAL,CAAYb,MAAZ,EAAoBA,MAApB;;AAEAF,IAAAA,SAAS,IAAIA,SAAS,CAACE,MAAD,CAAtB;AAEA,WAAOA,MAAP;AACD,GARgB,EAQd,CAACQ,EAAD,EAAKC,EAAL,EAASC,EAAT,CARc,CAAjB;AAUA,SAAOX,QAAP;AACD","sourcesContent":["import { useMemo } from 'react'\nimport { mat4 } from 'gl-matrix'\n\nexport function usePerspectiveMatrix(\n  fov: number,\n  aspect: number,\n  near: number = 1,\n  far: number = 1000,\n  configure: (m: mat4) => void,\n) {\n  const memoized = useMemo(() => {\n    const matrix = mat4.create()\n\n    const radians = (fov * Math.PI) / 180\n    mat4.perspective(matrix, radians, aspect, near, far)\n\n    configure && configure(matrix)\n\n    return matrix\n  }, [fov, aspect, near, far])\n\n  return memoized\n}\n\nexport function useIdentityMatrix(\n  px: number = 0,\n  py: number = 0,\n  pz: number = 0,\n  configure: (m: mat4) => void,\n) {\n  const memoized = useMemo(() => {\n    const matrix = mat4.create()\n    mat4.translate(matrix, matrix, [px, py, pz])\n\n    configure && configure(matrix)\n\n    return matrix\n  }, [px, py, pz])\n\n  return memoized\n}\n\nexport function useInvertedMatrix(\n  px: number = 0,\n  py: number = 0,\n  pz: number = 0,\n  configure: (m: mat4) => void,\n) {\n  const memoized = useMemo(() => {\n    const matrix = mat4.create()\n    mat4.translate(matrix, matrix, [px, py, pz])\n    mat4.invert(matrix, matrix)\n\n    configure && configure(matrix)\n\n    return matrix\n  }, [px, py, pz])\n\n  return memoized\n}\n"],"file":"matrices.js"}